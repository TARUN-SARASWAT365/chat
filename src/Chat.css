/* Reset & Base */
* { box-sizing: border-box; }
body, html, #root { margin: 0; padding: 0; height: 100%; font-family: sans-serif; }

.chat-container {
  display: flex; height: 100vh; background: #fff;
}
.chat-container.dark {
  background: #18191a; color: #e4e6eb;
}

/* Sidebar */
.sidebar {
  width: 280px; padding: 15px; border-right: 1px solid #ddd;
  background: #fafafa;
}
.chat-container.dark .sidebar { background: #242526; border-color: #3a3b3c; }
.sidebar .user-item { display: flex; align-items: center; padding: 10px; margin-bottom: 8px; cursor: pointer; border-radius: 6px;}
.user-item:hover { background: #eee; }
.user-item.active { background: #1877f2; color: white; }
.status-dot { width:12px; height:12px; border-radius:50%; margin-right:8px; background: gray;}
.status-dot.online { background: #4caf50;}

.sidebar button {
  margin-top: auto; padding: 10px; background: #1877f2; color: white; border: none; border-radius: 6px; cursor: pointer;
}

/* Chat Window */
.chat-window { flex: 1; display: flex; flex-direction: column; }
.chat-header { padding: 12px; border-bottom: 1px solid #ddd; display:flex; align-items:center;}
.chat-window .messages {
  flex:1; padding:12px; overflow-y:auto; display:flex; flex-direction:column; gap:10px;
}
.message {
  max-width:70%; padding:10px; border-radius:18px; position:relative; animation:fadeIn 0.3s ease;
}
@keyframes fadeIn { from { opacity:0; transform:scale(0.97);} to {opacity:1;} }

.message.sent { align-self:flex-end; background:#1877f2; color:white; }
.message.received { align-self:flex-start; background:#e4e6eb; color:#010101; }
.chat-container.dark .message.received { background:#3a3b3c; color:#ddd;}
.chat-container.dark .message.sent { background:#166fe5;}

.file-preview img { max-width:250px; max-height:300px; border-radius:12px; }
.msg-content { white-space:pre-wrap; }
.msg-time { font-size:0.7rem; opacity:0.6; margin-top:6px; text-align:right; }
.chat-container.dark .msg-time { color:#ccc;}

.input-area {
  padding:12px; display:flex; gap:10px; border-top:1px solid #ddd;
}
.input-area input[type="text"] {
  flex:1; padding:10px; border:1px solid #ccc; border-radius:20px;
}
.input-area button { padding:10px 18px; background:#1877f2; color:white; border:none; border-radius:20px; cursor:pointer;}

/* Reactions */
.reactions { margin-top:6px; display:flex; align-items:center; gap:8px; }
.reaction-btn { background:none; border:none; font-size:18px; padding:4px; opacity:0.6; transition: background 0.2s, transform 0.1s;}
.reaction-btn:hover { background:#ddd; transform:scale(1.1); opacity:1;}
.reaction-btn.reacted { opacity:1; font-weight:bold; background:rgba(24,119,242,0.1); color:#1877f2;}
.chat-container.dark .reaction-btn.reacted { background:rgba(24,119,242,0.2); color:#4da6ff; }

/* Seen Label */
.seen-label {
  font-size:0.7rem; display:flex; justify-content:flex-end; align-items:center; margin-top:4px;
}
.seen-label.sent::before { content:"✔"; margin-right:4px; color:#4caf50; }
.seen-label.seen::before { content:"✔✔"; margin-right:4px; color:#4caf50; }

/* Typing */
.typing-indicator { font-style:italic; color:#777; margin:6px 0; }
.typing-indicator::after {
  content:''; display:inline-block; width:6px; height:6px; background:#999;
  margin-left:4px; border-radius:50%; animation:blink 1s infinite alternate;
}
@keyframes blink { from { opacity:0.2; } to { opacity:1; }}

@media (max-width:600px) {
  .reaction-btn { font-size:16px; }
  .msg-time { font-size:0.6rem; }
}
